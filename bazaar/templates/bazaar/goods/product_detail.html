{% extends "bazaar/goods/base.html" %}

{% load i18n %}

{% block stylesheets %}
    {{ block.super }}
    <style>
        .product-actions, .product-meta {
            margin-bottom: 15px;
        }
    </style>
{% endblock stylesheets %}

{% block content %}
    <div class="product-actions row">
        <div class="col-md-8">
            <a onClick="javascript:history.go(-1);" class="btn btn-default">
                <i class="glyphicon glyphicon-chevron-left"></i>&nbsp;{% trans "Back" %}
            </a>
            <a href="{% url 'bazaar:product-update' product.id %}" class="btn btn-primary">
                <i class="glyphicon glyphicon-pencil"></i>&nbsp;{% trans "Modify" %}
            </a>
            <div class="pull-right">
                <a data-toggle="modal" href="#modalDelete" class="btn btn-danger">
                    <i class="glyphicon glyphicon-trash"></i>&nbsp;{% trans "Delete" %}
                </a>
            </div>
        </div>
    </div>
    <div class="row product-meta">
        {% if product.photo %}
        <div class="col-md-2">
            <a href="{{MEDIA_URL}}{{ product.photo }}"><img src="{{MEDIA_URL}}{{ product.photo }}" class="img-thumbnail" width="100%"></a>
        </div>
        {% endif %}
        <div class="col-md-6">
            <h3>{{ product.name }}</h3><br/>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>
                        {% trans "EAN" %}
                    </th>
                    <th>
                        {% trans "Stock" %}
                    </th>
                    <th>
                        {% trans "Cost" %}
                    </th>
                    <th>
                        {% trans "Price" %}
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        {{ product.ean }}
                    </td>
                    <td>
                        {{ product.quantity|floatformat }}
                    </td>
                    <td>
                        {{ product.cost }}
                    </td>
                    <td>
                        {{ product.price }}
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>Description:</h4>
            <p>
               {% if product.description %}
               {{ product.description }}
               {% else %}
               {% trans "No available description" %}
               {% endif %}
            </p>
        </div>
    </div>

    <!-- modalDelete -->
    <div class="modal fade" id="modalDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>{% trans "Confirm Delete " %}{{ product.name }}</h3>
                </div>
                <div class="modal-body">
                    <form class="form-inline" method="POST" action="{% url 'bazaar:product-delete' product.id %}">
                        <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                        {% csrf_token %}<button type="submit" value="DELETE" class="btn btn-danger">{% trans "Delete" %}</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- end modalDelete -->
{% endblock content %}
